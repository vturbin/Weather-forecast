[{"C:\\Users\\DaBoss\\Documents\\Weather forecast\\weather-forecast-no-testing\\src\\index.js":"1","C:\\Users\\DaBoss\\Documents\\Weather forecast\\weather-forecast-no-testing\\src\\App.js":"2","C:\\Users\\DaBoss\\Documents\\Weather forecast\\weather-forecast-no-testing\\src\\reportWebVitals.js":"3","C:\\Users\\DaBoss\\Documents\\Weather forecast\\weather-forecast-no-testing\\src\\Header\\Header.js":"4","C:\\Users\\DaBoss\\Documents\\Weather forecast\\weather-forecast-no-testing\\src\\Search\\SearhBar.js":"5","C:\\Users\\DaBoss\\Documents\\Weather forecast\\weather-forecast-no-testing\\src\\WeatherCard\\WeatherCard.js":"6"},{"size":500,"mtime":499162500000,"results":"7","hashOfConfig":"8"},{"size":2768,"mtime":1609237919123,"results":"9","hashOfConfig":"8"},{"size":362,"mtime":499162500000,"results":"10","hashOfConfig":"8"},{"size":782,"mtime":1609192150387,"results":"11","hashOfConfig":"8"},{"size":3207,"mtime":1609231428088,"results":"12","hashOfConfig":"8"},{"size":1229,"mtime":1609237167843,"results":"13","hashOfConfig":"8"},{"filePath":"14","messages":"15","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},"178cjjj",{"filePath":"17","messages":"18","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"19","messages":"20","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},{"filePath":"21","messages":"22","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},{"filePath":"23","messages":"24","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"25","usedDeprecatedRules":"16"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\DaBoss\\Documents\\Weather forecast\\weather-forecast-no-testing\\src\\index.js",[],["28","29"],"C:\\Users\\DaBoss\\Documents\\Weather forecast\\weather-forecast-no-testing\\src\\App.js",[],"C:\\Users\\DaBoss\\Documents\\Weather forecast\\weather-forecast-no-testing\\src\\reportWebVitals.js",[],"C:\\Users\\DaBoss\\Documents\\Weather forecast\\weather-forecast-no-testing\\src\\Header\\Header.js",[],"C:\\Users\\DaBoss\\Documents\\Weather forecast\\weather-forecast-no-testing\\src\\Search\\SearhBar.js",["30"],"import React, { useState, useRef, useEffect } from \"react\";\r\nimport \"./SearchBar.css\";\r\nimport axios from \"axios\";\r\n\r\nconst SearchBar = (props) => {\r\n  const [searchCity, setSearchCity] = useState(\"\");\r\n  const [open, setOpen] = useState(false);\r\n  const [cityResults, setCityResults] = useState([]);\r\n  const ref = useRef();\r\n\r\n  const searchHandler = (e) => {\r\n    setSearchCity(e.target.value);\r\n  };\r\n\r\n  const handleResult = (key, cityName, countryName) => {\r\n    setCityResults([]);\r\n    setSearchCity(`${cityName}, ${countryName}`);\r\n    props.city(key, cityName, countryName);\r\n  };\r\n\r\n  const currentPositionHandler = () => {\r\n    setSearchCity(\"Current Location\");\r\n    window.navigator.geolocation.getCurrentPosition(\r\n      (position) => props.coords(position),\r\n      (err) => props.coords(err)\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    const onBodyClick = (event) => {\r\n      if (ref.current && ref.current.contains(event.target)) {\r\n        return;\r\n      }\r\n\r\n      setOpen(false);\r\n    };\r\n\r\n    document.body.addEventListener(\"click\", onBodyClick);\r\n\r\n    return () => {\r\n      document.body.removeEventListener(\"click\", onBodyClick);\r\n    };\r\n  }, []);\r\n\r\n  const retrieveCities = () => {\r\n    axios.get(\r\n      \"http://dataservice.accuweather.com/locations/v1/cities/autocomplete\",\r\n      {\r\n        params: {\r\n          apikey: \"O0Hlip2ayjhAOl1n5ghnNQwS2AnXJ6Um\",\r\n          q: searchCity,\r\n          language: \"en-us\",\r\n        },\r\n      }\r\n    ).then((res)=> {\r\n        setCityResults(res.data);\r\n    })\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!searchCity || searchCity.includes(',')) {\r\n      return;\r\n    }\r\n    const timer = setTimeout(retrieveCities, 1000);\r\n\r\n    return () => {\r\n      clearTimeout(timer);\r\n    };\r\n  }, [searchCity]);\r\n\r\n  const printResults = cityResults.map((result) => {\r\n    return (\r\n      <li\r\n        onClick={() =>\r\n          handleResult(\r\n            result.Key,\r\n            result.LocalizedName,\r\n            result.Country.LocalizedName\r\n          )\r\n        }\r\n        key={result.Key}\r\n        className=\"search-result-item\"\r\n      >\r\n        {result.LocalizedName}, {result.Country.LocalizedName}\r\n      </li>\r\n    );\r\n  });\r\n\r\n  return (\r\n    <div className=\"searchbar-wrapper\">\r\n      <input\r\n        ref={ref}\r\n        type=\"text\"\r\n        className=\"search-input\"\r\n        placeholder=\"Enter your city\"\r\n        value={searchCity}\r\n        onChange={(e) => searchHandler(e)}\r\n        onClick={() => setOpen(true)}\r\n      />\r\n      {searchCity ? (\r\n        <i\r\n          className=\"material-icons\"\r\n          id=\"clearSearch\"\r\n          onClick={(e) => {\r\n            setOpen(false);\r\n            setSearchCity(\"\");\r\n          }}\r\n        >\r\n          close\r\n        </i>\r\n      ) : null}\r\n      {open ? (\r\n        <div className=\"search-result-wrapper\">\r\n          <ul className=\"search-result-list\">\r\n            <li\r\n              key={0}\r\n              className=\"search-result-item\"\r\n              onClick={() => currentPositionHandler()}\r\n            >\r\n              Get Current Location\r\n            </li>\r\n            {printResults}\r\n          </ul>\r\n        </div>\r\n      ) : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchBar;\r\n","C:\\Users\\DaBoss\\Documents\\Weather forecast\\weather-forecast-no-testing\\src\\WeatherCard\\WeatherCard.js",[],{"ruleId":"31","replacedBy":"32"},{"ruleId":"33","replacedBy":"34"},{"ruleId":"35","severity":1,"message":"36","line":69,"column":6,"nodeType":"37","endLine":69,"endColumn":18,"suggestions":"38"},"no-native-reassign",["39"],"no-negated-in-lhs",["40"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'retrieveCities'. Either include it or remove the dependency array.","ArrayExpression",["41"],"no-global-assign","no-unsafe-negation",{"desc":"42","fix":"43"},"Update the dependencies array to be: [retrieveCities, searchCity]",{"range":"44","text":"45"},[1747,1759],"[retrieveCities, searchCity]"]